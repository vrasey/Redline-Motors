<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="description" content="Source parts directly from Japanese auction sites like Yahoo! Auctions. Paste a link to get a quote from Redline Motors.">

    <meta property="og:title" content="Parts Sourcing & Auctions - Redline Motors">
    <meta property="og:description" content="Source parts directly from Japanese auction sites. Paste a link to get a quote.">
    <meta property="og:image" content="https://vrasey.github.io/Redline-Motors/images/hero_main.jpeg">
    <meta property="og:url" content="https://vrasey.github.io/Redline-Motors/auctions.html">
    <meta property="og:type" content="website">

    <title>Parts Sourcing & Auctions - Redline Motors</title>

    <link rel="icon" type="image/png" href="images/logo_main.png">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
    <div class="container">
        <a href="index.html" class="logo">
            <img src="images/logo_main.png" alt="Redline Motors Logo">
            <span class="logo-text">REDLINE<span>MOTORS</span></span>
        </a>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="auctions.html" class="active">Parts</a></li>
                <li><a href="how-to-buy.html">Buy a Car</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
    </div>
</header>

    <main>
    <div class="page-header">
        <div class="container">
            <h1>Parts Sourcing & Auctions</h1>
        </div>
    </div>

    <div class="container page-content">
        
        <div class="parts-instructions">
            <div class="about-section">
                <h2>How It Works</h2>
            </div>
            <ol class="steps-list">
                <li>
                    <h3>Step 1: Find Your Part</h3>
                    <p>Locate the item you wish to purchase on any Japanese auction or retail site (like Yahoo! Auctions, Up Garage, etc.). Copy the full URL from your browser's address bar.</p>
                </li>
                <li>
                    <h3>Step 2: Get a Quote</h3>
                    <p>Paste the link into the form below. We will review the item and send you a complete, all-inclusive quote covering the item cost, our service fee, and your shipping address.</p>
                    <a href="#quote-form" class="btn btn-primary">Go to Quote Form</a>
                </li>
                <li>
                    <h3>Step 3: Payment</h3>
                    <p>Once you approve the quote, we will send you an final shipping invoice*. After payment is confirmed, then we will secure the item on your behalf.</p>
                </li>
                <li>
                    <h3>Step 4: Shipping & Delivery</h3>
                    <p>We handle all domestic logistics within Japan, package your item securely, and manage international shipping. You will receive the tracking info via text or email as soon as it's available.</p>
                </li>
            </ol>
        </div>

        <div class="parts-form" id="quote-form">
            <div class="about-section">
                <h2>Request a Quote</h2>
            </div>
<div class="form-container">
    <form action="https://formspree.io/f/xeorgbkz" method="POST">
        
        <label for="name">Your Name</label>
        <input type="text" id="name" name="name" required>

        <label for="email">Your Email</label>
        <input type="email" id="email" name="email" required>

        <div id="auction-links-container">
            <div class="link-item">
                <label for="auction-link-1">Auction Link #1</label>
                <input type="url" id="auction-link-1" name="auction-link-1" placeholder="https://auctions.yahoo.co.jp/..." required>
            </div>
        </div>

        <button type="button" id="add-link-btn" class="btn btn-secondary">+ Add another item</button>

        <label for="max-bid">Your Max Bid (USD)</label>
        <input type="number" id="max-bid" name="max-bid" placeholder="e.g., 150" min="0" required>
        
        <div id="scrape-preview-container"></div>

        <button type="button" id="get-quote-btn" class="btn btn-primary">Get a Quote</button>
    </form>

    <p class="form-notice">Please note: Shipping costs are often not listed on the auction page itself. We will calculate and include all shipping costs in the final quote we send you.</p>
</div>
            
            <div class="currency-converter">
                <h3>Currency Converter</h3>
                <div class="converter-row">
                    <div class="input-group">
                        <div class="label-with-select">
                            <label for="from-input">From</label>
                            <select id="currency-select">
                                <option value="USD" selected>USD</option>
                                <option value="AUD">AUD</option>
                            </select>
                        </div>
                        <input type="number" id="from-input" placeholder="100" min="0">
                    </div>
                    <div class="equals-sign">=</div>
                    <div class="input-group">
                        <label for="jpy-input">JPY</label>
                        <input type="number" id="jpy-input" placeholder="----" min="0">
                    </div>
                </div>
                <small class="rate-info">Fetching live exchange rate...</small>
            </div>
        </div> </div> </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Redline Motors. All Rights Reserved. Based in Tokyo, Japan.</p>
        </div>
    </footer>

    <a href="https://m.me/820619511130834" class="messenger-button" target="_blank" aria-label="Chat on Messenger">
        <i class="fab fa-facebook-messenger"></i>
    </a>
    
<script>
    // Get references to the HTML elements
    const fromInput = document.getElementById('from-input');
    const jpyInput = document.getElementById('jpy-input');
    const currencySelect = document.getElementById('currency-select');
    const rateInfo = document.querySelector('.rate-info');
    
    // Use an object to store the calculated rates
    let rates = {};

    // --- Fetch the latest exchange rates from a free API ---
    async function fetchRates() {
        try {
            // The free API always uses EUR as a base, so we fetch rates relative to it
            const response = await fetch('https://api.frankfurter.app/latest?to=USD,AUD,JPY');
            const data = await response.json();

            // The API gives us { "USD": rate_vs_eur, "AUD": rate_vs_eur, "JPY": rate_vs_eur }
            // We need to calculate the direct rates ourselves.
            rates = {
                USD: data.rates.JPY / data.rates.USD,
                AUD: data.rates.JPY / data.rates.AUD
            };
            
            updateRateInfo(); // Update the display text
            recalculateToJpy(); // Perform initial calculation if a value exists
        } catch (error) {
            console.error('Failed to fetch exchange rates:', error);
            rateInfo.textContent = 'Could not load live rates.';
        }
    }

    // --- Helper Functions ---
    function formatJpy(amount) {
        return Math.round(amount);
    }

    function updateRateInfo() {
        const selectedCurrency = currencySelect.value;
        if (rates[selectedCurrency]) {
            rateInfo.textContent = `Live Conversion Rate: 1 ${selectedCurrency} = ${rates[selectedCurrency].toFixed(2)} JPY`;
        }
    }

    function recalculateFromJpy() {
        const selectedRate = rates[currencySelect.value];
        if (!selectedRate) return;
        
        const jpyValue = parseFloat(jpyInput.value);
        if (isNaN(jpyValue) || jpyValue === 0) {
            fromInput.value = '';
            return;
        }
        const fromValue = jpyValue / selectedRate;
        fromInput.value = fromValue.toFixed(2);
    }

    function recalculateToJpy() {
        const selectedRate = rates[currencySelect.value];
        if (!selectedRate) return;

        const fromValue = parseFloat(fromInput.value);
        if (isNaN(fromValue) || fromValue === 0) {
            jpyInput.value = '';
            return;
        }
        const jpyValue = fromValue * selectedRate;
        jpyInput.value = formatJpy(jpyValue);
    }

    // --- Event Listeners ---
    fromInput.addEventListener('input', recalculateToJpy);
    jpyInput.addEventListener('input', recalculateFromJpy);
    currencySelect.addEventListener('change', () => {
        updateRateInfo();
        // Use the value from the JPY input to recalculate the "From" field if it has a value,
        // otherwise use the "From" field to recalculate the JPY field.
        if (jpyInput.value) {
            recalculateFromJpy();
        } else {
            recalculateToJpy();
        }
    });

    // --- Initial Load ---
    fetchRates();
</script>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const addLinkBtn = document.getElementById('add-link-btn');
        const linksContainer = document.getElementById('auction-links-container');
        let linkCount = 1;
        const maxLinks = 5;

        // Function to handle adding a new link field
        addLinkBtn.addEventListener('click', () => {
            if (linkCount >= maxLinks) {
                return; // Stop if we've reached the max
            }

            linkCount++;

            // Create the new link item's HTML
            const newLinkItem = document.createElement('div');
            newLinkItem.classList.add('link-item');
            newLinkItem.innerHTML = `
                <div class="input-wrapper">
                    <label for="auction-link-${linkCount}">Auction Link #${linkCount}</label>
                    <input type="url" id="auction-link-${linkCount}" name="auction-link-${linkCount}" placeholder="https://auctions.yahoo.co.jp/..." required>
                </div>
                <button type="button" class="btn-remove" aria-label="Remove item">&times;</button>
            `;

            linksContainer.appendChild(newLinkItem);

            // Hide the "add" button if we've reached the cap
            if (linkCount >= maxLinks) {
                addLinkBtn.style.display = 'none';
            }
        });

        // Function to handle removing a link field (using event delegation)
        linksContainer.addEventListener('click', (event) => {
            if (event.target && event.target.classList.contains('btn-remove')) {
                // Find the parent .link-item and remove it
                event.target.closest('.link-item').remove();
                linkCount--;

                // Show the "add" button again if we are below the cap
                if (linkCount < maxLinks) {
                    addLinkBtn.style.display = 'inline-block';
                }
            }
        });
    });
</script>

</body>
</html>
